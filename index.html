<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Base64 Decoder</title>
<style>
  body { font-family: sans-serif; text-align: center; margin-top: 5em; }
  #decoded { font-weight: bold; color: darkgreen; margin-top: 1em; }
</style>
</head>
<body>
  <div id="decoded"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const base64 = params.get("data");

    function decodeBase64UTF8(base64String) {
      try {
        const binaryString = atob(base64String);
        const bytes = new Uint8Array(binaryString.length);
        for (let i = 0; i < binaryString.length; i++) {
          bytes[i] = binaryString.charCodeAt(i);
        }
        const decoder = new TextDecoder("utf-8", { fatal: false });
        return decoder.decode(bytes);
      } catch (err) {
        return null;
      }
    }

    if (base64) {
      const decoded = decodeBase64UTF8(base64);
      if (decoded !== null) {
        document.getElementById("decoded").innerText = decoded;
      } else {
        document.getElementById("error").innerText = "Invalid Base64 data.";
      }
    } else {
        document.getElementById("error").innerText = "No data parameter found.";
    }
  </script>
</body>
</html>
